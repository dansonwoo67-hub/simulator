<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sales Commission Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.8; padding: 20px; }
    h1 { color: darkblue; }
    h2 { color: green; font-weight: bold; }
    .result { color: green; font-weight: bold; }
    .highlight { color: red; font-weight: bold; }
    .hidden { display: none; }
    input, button { margin: 5px; padding: 5px; }
  </style>
</head>
<body>
  <!-- ÁôªÂΩïÁïåÈù¢ -->
  <div id="loginBox">
    <h2>Login Required</h2>
    <p>Username: <input type="text" id="username"></p>
    <p>Password: <input type="password" id="password"></p>
    <button onclick="login()">Login</button>
    <p id="loginError" style="color:red;"></p>
  </div>

  <!-- ‰∏ªÂÜÖÂÆπ -->
  <div id="content" class="hidden">
    <h1>Sales Commission Calculator (For Reference Only)</h1>
    <h2>Upgrade Rate should be over 20%! Otherwise commission will be discounted.</h2>

    <!-- 1Ô∏è‚É£ Current Commission -->
    <h2>Current Commission Simulation</h2>
    <p>Salary Contract: <input type="number" id="salaryContract"></p>
    <p>Actual Revenue (USD): <input type="number" id="actualCash"></p>
    <button onclick="calculateCurrent()">Calculate Current Commission</button>
    <div id="currentResult"></div>

    <!-- 2Ô∏è‚É£ Target Commission -->
    <h2>Target Commission Simulation (Based on Package Mix)</h2>
    <p>Package A (75): <input type="number" id="pk75" value="0"></p>
    <p>Package B (90): <input type="number" id="pk90" value="0"></p>
    <p>Package C (105): <input type="number" id="pk105" value="0"></p>
    <p>Package D (150): <input type="number" id="pk150" value="0"></p>
    <p>Package E (225): <input type="number" id="pk225" value="0"></p>
    <p>Package F (300): <input type="number" id="pk300" value="0"></p>
    <p>Package G (375): <input type="number" id="pk375" value="0"></p>
    <button onclick="calculateTarget()">Calculate Target Commission</button>
    <div id="targetResult"></div>

    <!-- 3Ô∏è‚É£ Dream Commission -->
    <h2>Dream Commission Simulation</h2>
    <p>Enter your dream monthly commission: <input type="number" id="dreamAmount"></p>
    <button onclick="calculateDream()">Calculate My Dream Path</button>
    <div id="dreamResult"></div>
  </div>

  <script>
    // ÁôªÂΩïÈÄªËæë
    function login() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;
      if (user === "EGEA" && pass === "unstopable") {
        document.getElementById("loginBox").classList.add("hidden");
        document.getElementById("content").classList.remove("hidden");
      } else {
        document.getElementById("loginError").innerText = "Wrong username or password!";
      }
    }

    // Ê±áÁéá (Á§∫‰æãÊ±áÁéá)
    const exchangeRate = 48.22;

    // ÊèêÊàêÊ°£‰Ωç
    const commissionTiers = [
      { contracts: 0, rate: 0.02 },
      { contracts: 3, rate: 0.04 },
      { contracts: 5, rate: 0.06 },
      { contracts: 8, rate: 0.08 },
      { contracts: 12, rate: 0.1 },
      { contracts: 20, rate: 0.12 }
    ];

    // Â•óÈ§ê‰ª∑Ê†º (USD)
    const packagePrices = {
      75: 660,
      90: 720,
      105: 800,
      150: 1020,
      225: 1460,
      300: 1820,
      375: 2080
    };

    // ÊèêÊàêËÆ°ÁÆóÂáΩÊï∞
    function getRateByContracts(n) {
      let rate = 0;
      for (let i = 0; i < commissionTiers.length; i++) {
        if (n >= commissionTiers[i].contracts) rate = commissionTiers[i].rate;
      }
      return rate;
    }

    function getNextThreshold(n) {
      for (let i = 0; i < commissionTiers.length; i++) {
        if (commissionTiers[i].contracts > n) return commissionTiers[i].contracts;
      }
      return null;
    }

    // 1Ô∏è‚É£ Current Commission
    function calculateCurrent() {
      const salary = parseInt(document.getElementById("salaryContract").value);
      const cash = parseFloat(document.getElementById("actualCash").value);
      if (isNaN(salary) || isNaN(cash)) {
        alert("Please enter both values");
        return;
      }
      const avgUnit = cash / salary;
      const rate = getRateByContracts(salary);
      const com1 = cash * rate * exchangeRate;
      const com08 = cash * rate * 0.8 * exchangeRate;
      const com12 = cash * rate * 1.2 * exchangeRate;

      const next = getNextThreshold(salary);
      let nextMsg = "";
      if (next) {
        const need = next - salary;
        const future = (cash + need * avgUnit) * getRateByContracts(next) * exchangeRate;
        nextMsg = `<p class="result">If get ${need} more contracts, commission will be <span class="highlight">${future.toFixed(2)}</span>. Keep going!</p>`;
      }

      document.getElementById("currentResult").innerHTML = `
        <p class="result">Current commission rate: <span class="highlight">${(rate * 100).toFixed(2)}%</span></p>
        <p class="result">Estimated commission = 
          <span class="highlight">${com1.toFixed(2)}</span> (coefficient=1)<br>
          <span class="highlight">${com08.toFixed(2)}</span> (coefficient=0.8)<br>
          <span class="highlight">${com12.toFixed(2)}</span> (coefficient=1.2)
        </p>
        ${nextMsg}
      `;
    }

    // 2Ô∏è‚É£ Target Commission
    function calculateTarget() {
      const packages = [75, 90, 105, 150, 225, 300, 375];
      let contracts = 0, revenue = 0;
      packages.forEach(pkg => {
        const qty = parseInt(document.getElementById("pk" + pkg).value) || 0;
        contracts += qty;
        revenue += qty * packagePrices[pkg];
      });
      const rate = getRateByContracts(contracts);
      const commission = revenue * rate * exchangeRate;

      document.getElementById("targetResult").innerHTML = `
        <p class="result">Total contracts: <span class="highlight">${contracts}</span></p>
        <p class="result">Commission rate: <span class="highlight">${(rate * 100).toFixed(2)}%</span></p>
        <p class="result">Estimated commission: <span class="highlight">${commission.toFixed(2)}</span></p>
      `;
    }

    // 3Ô∏è‚É£ Dream Commission Simulation
    function calculateDream() {
      const dreamAmount = parseFloat(document.getElementById("dreamAmount").value);
      if (isNaN(dreamAmount) || dreamAmount <= 0) {
        alert("Please enter your dream commission amount");
        return;
      }

      // ÂèçÊé® USD
      const dreamUSD = dreamAmount / exchangeRate;

      // ÂÅáËÆæÂπ≥ÂùáÊèêÁÇπÁéá 0.08
      const avgRate = 0.08;
      const neededRevenue = dreamUSD / avgRate;

      // Â•óÈ§êÈÖçÊØîÔºöPackage F : Package D = 1 : 1.2
      const unitRevenue = 1820 + 1.2 * 1020;
      const setCount = neededRevenue / unitRevenue;
      const pkF = Math.round(setCount);
      const pkD = Math.round(setCount * 1.2);

      // ËÆ°ÁÆó‰∏§Âπ¥ÁßØÁ¥Ø
      const total2Years = dreamAmount * 24;
      let milestone = "";
      if (total2Years < 800000) milestone = "You could achieve your first major financial milestone üí∞";
      else if (total2Years < 2000000) milestone = "That's a solid foundation for your future üéØ";
      else if (total2Years < 4000000) milestone = "You're building serious wealth üìà";
      else milestone = "You're on track to financial freedom üèÜ";

      // Â§ñÂëºÈáè‰º∞ÁÆó
      const avgConversion = 0.2;
      const leads = 300;
      const totalDeals = pkF + pkD;
      const callsPerDeal = 4;
      const workDays = 26;
      const neededConnected = Math.ceil((totalDeals / (leads * avgConversion)) * callsPerDeal * 26 / workDays);
      const dailyCalls = Math.max(30, neededConnected);

      document.getElementById("dreamResult").innerHTML = `
        <p class="result">To achieve your dream monthly commission of <span class="highlight">${dreamAmount.toFixed(0)}</span>,</p>
        <p>You need to sell around <span class="highlight">${pkF}</span> high-tier packages and <span class="highlight">${pkD}</span> mid-tier packages.</p>
        <p>If you maintain this pace for 2 years, you can accumulate about <span class="highlight">${total2Years.toLocaleString()}</span>.</p>
        <p>${milestone}</p>
        <p class="highlight">Target: ${dailyCalls} connected calls per day. üìû Stay focused and keep pushing!</p>
      `;
    }
  </script>
</body>
</html>
