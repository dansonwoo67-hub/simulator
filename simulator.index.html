<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EGEA Commission Simulator (only for reference)</title>
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.8; padding: 20px; }
    h1 { color: darkblue; }
    h2 { color: green; font-weight: bold; }
    .result { color: green; font-weight: bold; }
    .highlight { color: red; font-weight: bold; }
    .hidden { display: none; }
    input, button { margin: 5px; padding: 5px; }
  </style>
</head>
<body>
  <!-- ÁôªÂΩïÁïåÈù¢ -->
  <div id="loginBox">
    <h2>Login Required</h2>
    <p>Username: <input type="text" id="username"></p>
    <p>Password: <input type="password" id="password"></p>
    <button onclick="login()">Login</button>
    <p id="loginError" style="color:red;"></p>
  </div>

  <!-- ‰∏ªÂÜÖÂÆπ -->
  <div id="content" class="hidden">
    <h1>EGEA Commission Simulator (only for reference)</h1>
    <h2>Upgrade Rate should be over 20%! Otherwise commission will be discounted.</h2>

    <!-- 1Ô∏è‚É£ Current Commission -->
    <h2>Current Commission Simulation</h2>
    <p>Salary Contract: <input type="number" id="salaryContract"></p>
    <p>Actual Cash (USD): <input type="number" id="actualCash"></p>
    <button onclick="calculateCurrent()">Calculate Current Commission</button>
    <div id="currentResult"></div>

    <!-- 2Ô∏è‚É£ Target Commission -->
    <h2>Target Commission Simulation (Based on Renew Price)</h2>
    <p>75PK: <input type="number" id="pk75" value="0"></p>
    <p>90PK: <input type="number" id="pk90" value="0"></p>
    <p>105PK: <input type="number" id="pk105" value="0"></p>
    <p>150PK: <input type="number" id="pk150" value="0"></p>
    <p>225PK: <input type="number" id="pk225" value="0"></p>
    <p>300PK: <input type="number" id="pk300" value="0"></p>
    <p>375PK: <input type="number" id="pk375" value="0"></p>
    <button onclick="calculateTarget()">Calculate Target Commission</button>
    <div id="targetResult"></div>

    <!-- 3Ô∏è‚É£ Dream Commission -->
    <h2>I WANT THIS!! Dream Commission Simulation</h2>
    <p>Enter your dream monthly commission (EGP): <input type="number" id="dreamEGP"></p>
    <button onclick="calculateDream()">Calculate My Dream Path</button>
    <div id="dreamResult"></div>
  </div>

  <script>
    // ÁôªÂΩïÈÄªËæë
    function login() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;
      if (user === "EGEA" && pass === "unstopable") {
        document.getElementById("loginBox").classList.add("hidden");
        document.getElementById("content").classList.remove("hidden");
      } else {
        document.getElementById("loginError").innerText = "Wrong username or password!";
      }
    }

    // Ê±áÁéá
    const usdToEGP = 48.22;

    // ÊèêÊàêÊ°£‰Ωç
    const commissionBars = [
      { contracts: 0, rate: 0.02 },
      { contracts: 3, rate: 0.04 },
      { contracts: 5, rate: 0.06 },
      { contracts: 8, rate: 0.08 },
      { contracts: 12, rate: 0.1 },
      { contracts: 20, rate: 0.12 }
    ];

    // Â•óÈ§ê‰ª∑Ê†º
    const packagePrice = {
      75: 660,
      90: 720,
      105: 800,
      150: 1020,
      225: 1460,
      300: 1820,
      375: 2080
    };

    // ÊèêÊàêËÆ°ÁÆóÂáΩÊï∞
    function getRateByContracts(n) {
      let rate = 0;
      for (let i = 0; i < commissionBars.length; i++) {
        if (n >= commissionBars[i].contracts) rate = commissionBars[i].rate;
      }
      return rate;
    }

    function getNextThreshold(n) {
      for (let i = 0; i < commissionBars.length; i++) {
        if (commissionBars[i].contracts > n) return commissionBars[i].contracts;
      }
      return null;
    }

    // 1Ô∏è‚É£ Current Commission
    function calculateCurrent() {
      const salary = parseInt(document.getElementById("salaryContract").value);
      const cash = parseFloat(document.getElementById("actualCash").value);
      if (isNaN(salary) || isNaN(cash)) {
        alert("Please enter both values");
        return;
      }
      const avgUnit = cash / salary;
      const rate = getRateByContracts(salary);
      const com1 = cash * rate * usdToEGP;
      const com08 = cash * rate * 0.8 * usdToEGP;
      const com12 = cash * rate * 1.2 * usdToEGP;

      const next = getNextThreshold(salary);
      let nextMsg = "";
      if (next) {
        const need = next - salary;
        const future = (cash + need * avgUnit) * getRateByContracts(next) * usdToEGP;
        nextMsg = `<p class="result">If get ${need} more contracts, commission comes to <span class="highlight">${future.toFixed(2)} EGP</span>. Keep going!</p>`;
      }

      document.getElementById("currentResult").innerHTML = `
        <p class="result">Current commission rate: <span class="highlight">${(rate * 100).toFixed(2)}%</span></p>
        <p class="result">Estimated commission = 
          <span class="highlight">${com1.toFixed(2)} EGP</span> (coefficient=1)<br>
          <span class="highlight">${com08.toFixed(2)} EGP</span> (coefficient=0.8)<br>
          <span class="highlight">${com12.toFixed(2)} EGP</span> (coefficient=1.2)
        </p>
        ${nextMsg}
      `;
    }

    // 2Ô∏è‚É£ Target Commission
    function calculateTarget() {
      const pkList = [75, 90, 105, 150, 225, 300, 375];
      let contracts = 0, revenue = 0;
      pkList.forEach(pk => {
        const qty = parseInt(document.getElementById("pk" + pk).value) || 0;
        contracts += qty;
        revenue += qty * packagePrice[pk];
      });
      const rate = getRateByContracts(contracts);
      const commission = revenue * rate * usdToEGP;

      document.getElementById("targetResult").innerHTML = `
        <p class="result">Total contracts: <span class="highlight">${contracts}</span></p>
        <p class="result">Commission rate: <span class="highlight">${(rate * 100).toFixed(2)}%</span></p>
        <p class="result">Estimated commission: <span class="highlight">${commission.toFixed(2)} EGP</span></p>
      `;
    }

    // 3Ô∏è‚É£ Dream Commission Simulation
    function calculateDream() {
      const dreamEGP = parseFloat(document.getElementById("dreamEGP").value);
      if (isNaN(dreamEGP) || dreamEGP <= 0) {
        alert("Please enter your dream commission (EGP)");
        return;
      }

      // ÂèçÊé® USD
      const dreamUSD = dreamEGP / usdToEGP;

      // ÂÅáËÆæÂπ≥ÂùáÊèêÁÇπÁéá 0.08
      const avgRate = 0.08;
      const neededRevenue = dreamUSD / avgRate;

      // Â•óÈ§êÈÖçÊØîÔºö300PK : 150PK = 1 : 1.2
      const unitRevenue = 1820 + 1.2 * 1020;
      const setCount = neededRevenue / unitRevenue;
      const pk300 = Math.round(setCount);
      const pk150 = Math.round(setCount * 1.2);

      // ÂÆ∂Â∫≠Â•óÈ§êÊç¢ÁÆó
      const family225 = Math.round(setCount * 0.5);
      const family150 = Math.round(setCount * 0.5);

      // ËÆ°ÁÆó‰∏§Âπ¥ÁßØÁ¥Ø‰∏éË¥≠‰π∞Âäõ
      const total2Years = dreamEGP * 24;
      let purchase = "";
      if (total2Years < 800000) purchase = "You could buy a used Toyota Yaris üöó";
      else if (total2Years < 2000000) purchase = "You could buy a brand-new Toyota Corolla üöò";
      else if (total2Years < 4000000) purchase = "That‚Äôs enough for a down payment on a small apartment in Cairo üè†";
      else purchase = "You could own a two-bedroom apartment in central Cairo üè¢";

      // Â§ñÂëºÈáè‰º∞ÁÆóÈÄªËæë
      const avgConversion = 0.2; // Âπ≥ÂùáËΩ¨ÂåñÁéá
      const leads = 300;
      const totalDeals = pk300 + pk150;
      const callsPerDeal = 4; // Âπ≥ÂùáÊØèÂçï4ÈÄö
      const workDays = 26;
      const neededConnected = Math.ceil((totalDeals / (leads * avgConversion)) * callsPerDeal * 26 / workDays);
      const dailyCalls = Math.max(30, neededConnected);

      document.getElementById("dreamResult").innerHTML = `
        <p class="result">To achieve your dream monthly commission of <span class="highlight">${dreamEGP.toFixed(0)} EGP</span>,</p>
        <p>You need to sell around <span class="highlight">${pk300}</span> of 300PK packages and <span class="highlight">${pk150}</span> of 150PK packages.</p>
        <p>That equals roughly <span class="highlight">${family225}</span> family 225PK√ó3 sets and <span class="highlight">${family150}</span> family 150PK√ó3 sets.</p>
        <p>If you keep this pace for 2 years, you can save about <span class="highlight">${total2Years.toLocaleString()} EGP</span>.</p>
        <p>${purchase}</p>
        <p class="highlight">To reach this goal, you need at least ${dailyCalls} connected calls per day. üìû Keep going, you‚Äôre unstoppable!</p>
      `;
    }
  </script>
</body>
</html>
